# Тестовое задание для старта трудоустройства №1

## Функционал.
### Создан django проект с моделями:
   - Продукт:
        - Название;
        - Модель;
        - Дата выхода продукта на рынок;
   - Завод:
        - Название;
        - Email;
        - Страна;
        - Город;
        - Улица;
        - Номер дома;
        - Продукты;
        - Время создания (заполняется автоматически при создании).
   - Поставщик:
        - Название;
        - Email;
        - Страна;
        - Город;
        - Улица;
        - Номер дома;
        - Продукты:
        - Поставщик (Завод);
        - Задолженность перед поставщиком в денежном выражении с точностью до копеек;
        - Время создания (заполняется автоматически при создании).
   - Индивидуальный предприниматель:
        - Название;
        - Email;
        - Страна;
        - Город;
        - Улица;
        - Номер дома;
        - Продукты:
        - Поставщик (Поставщик);
        - Задолженность перед поставщиком в денежном выражении с точностью до копеек;
        - Время создания (заполняется автоматически при создании).

### Описан CRUD:
    
   - Для модели "Продукт" через ViewSets
   - Для модели "Завод" через ViewSets
   - Для модели "Поставщик" через ViewSets
   - Для модели "Предприниматель" через ViewSets

### В админ-панели реализованы:
    
   - Ссылка на «Поставщика» (завод) для модели "Поставщик";
   - ссылка на «Поставщика» для модели "Предприниматель";
   - фильтры по названию города для моделей "Завод", "Поставщик", "Предприниматель";
   - «admin action», очищающий задолженность перед поставщиком у выбранных объектов.

### Для всех моделей реализованы наборы представлений ViewSet

### Запрещено обновление через API поля «Задолженность перед поставщиком»

### Добавлена возможность фильтрации объектов по определенной стране (для заводов)
     
### Права доступа к API настроены так, что только активные сотрудники имеют доступ к API. (Установку флага "активен" производит администратор)

## Требования к установке.
- В PostgreSQL должна быть создана DB - electronet_db

Заполнение базы осуществляетя через команды:
- Суперпользователь

```
> python manage.py ucreate
```

Для заполнения БД тестовыми данными необходимо воспользоваться фикстурой all.json

```
> python manage.py loaddata all.json
```

### Тестовые пользователи

   - Администратор - admin@adminov.ru; пароль 123456
   - Пользователь №1 (активный) - andrey@petrov.ru; пароль 123456
   - Пользователь №2 (не активный) - sergey@ivanov.ru; пароль 123456

## Требования к окружению

#### В программе используется менеджер зависимостей venv.
Используются следующие зависимости:

- Django==5.0
- django-filter==23.5
- djangorestframework==3.14.0
- djangorestframework-simplejwt==5.3.1
- ipython==8.19.0
- psycopg2-binary==2.9.9
- pytils==0.4.1

